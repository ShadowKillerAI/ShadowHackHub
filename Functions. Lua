-- Shadow X Hub | functions.lua
-- Utility functions used in core logic

local module = {}

function module.teleportTo(position)
    local hrp = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
    hrp.CFrame = CFrame.new(position)
end

function module.notify(title, msg)
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = title,
        Text = msg,
        Duration = 5
    })
end

function module.getNearestEnemy()
    local closest, dist = nil, math.huge
    for _, enemy in pairs(workspace.Enemies:GetChildren()) do
        if enemy:FindFirstChild("HumanoidRootPart") and enemy:FindFirstChild("Humanoid") then
            local mag = (enemy.HumanoidRootPart.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude
            if mag < dist then
                closest = enemy
                dist = mag
            end
        end
    end
    return closest
end

function module.getFruitStock()
    return game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("GetFruits")
end

return module
